{
    "filter": {
        "media_file_extension": [
            {
                "type": "include",
                "extension": [
                    ".mkv",
                    ".mka",
                    ".ass",
                    ".mp4"
                ]
            }
        ],
        "ignore_special_dir": [
            {
                "type": "exclude",
                "filename": [
                    "SPs",
                    "CDs",
                    "Menus",
                    "Glossaries",
                    "Scans"
                ]
            }
        ]
    },
    "file": {
        "rename": true,
        "filter": [
            "media_file_extension"
        ]
    },
    "dir": {
        "rename": true,
        "filter": [
            "ignore_special_dir"
        ]
    },
    "move_rule": [
        {
            "description": "Derive series name from media file name",
            "type": "add_parent",
            "file": "file",
            "regex": true,
            "entries": [
                {
                    "source": "\\s*[v\\d]+\\.[a-zA-Z\\d\\.]+$",
                    "target": ""
                }
            ]
        }
    ],
    "rename_rule": [
        {
            "description": "Fix dir names",
            "type": "transform",
            "file": "dir",
            "regex": false,
            "entries": [
                {
                    "source": ".mkv",
                    "target": ""
                },
                {
                    "source": ".mp4",
                    "target": ""
                }
            ]
        },
        {
            "description": "Fix file names",
            "type": "transform",
            "file": "all",
            "regex": false,
            "entries": [
                {
                    "source": "[LOG_HORIZON_Entaku_Houkai]",
                    "target": "Log Horizon S3"
                },
                {
                    "source": "[SSSS.DYNAZENON Voice Drama]",
                    "target": "SSSS.DYNAZENON Voice Drama"
                },
                {
                    "source": "[SSSS.DYNAZENON]",
                    "target": "SSSS.DYNAZENON"
                },
                {
                    "source": "[Yakusoku no Neverland S2]",
                    "target": "Yakusoku no Neverland S2"
                },
                {
                    "source": "[Log Horizon S3]",
                    "target": "Log Horizon S3"
                },
                {
                    "source": "Bungo Stray Dogs Wan",
                    "target": "Bungou Stray Dogs Wan"
                },
                {
                    "source": "5Hanayome S2",
                    "target": "Go-Toubun no Hanayome 2"
                },
                {
                    "source": "Mushoku Tensei",
                    "target": "Mushoku Tensei Isekai Ittara Honki Dasu"
                },
                {
                    "source": "Tatoeba Last Dungeon Mae no Mura no Shounen ga Joban no Machi de Kurasu Youna Monogatari",
                    "target": "Tatoeba Last Dungeon Mae no Mura no Shounen ga Joban no Machi de Kurasu You na Monogatari"
                },
                {
                    "source": "Yuru Camp S02",
                    "target": "Yuru Camp Season 2"
                },
                {
                    "source": "Urasekai Picnic",
                    "target": "Ura Sekai Picnic"
                },
                {
                    "source": "22 7",
                    "target": "Nanabun no Nijuuni"
                },
                {
                    "source": "[Nanabun no Nijuuni]",
                    "target": "Nanabun no Nijuuni"
                },
                {
                    "source": "Muno na Nana",
                    "target": "Munou na Nana"
                },
                {
                    "source": "Hyakuman no Inochi no Ue ni Ore wa Tatteiru",
                    "target": "100-man no Inochi no Ue ni Ore wa Tatte Iru"
                },
                {
                    "source": "Enen no Shouboutai S02",
                    "target": "Enen no Shouboutai Ni no Shou"
                },
                {
                    "source": "Senyoku no Sigrdrifa",
                    "target": "Warlords of Sigrdrifa"
                },
                {
                    "source": "Dungeon ni Deai wo Motomeru no wa Machigatteiru Darou ka S03",
                    "target": "Dungeon ni Deai o Motomeru no wa Machigatteiru Darou ka III"
                }
            ]
        },
        {
            "description": "Remove team name",
            "type": "remove",
            "file": "all",
            "regex": true,
            "prefix": "\\s*\\[.*?",
            "suffix": ".*?\\]\\s*",
            "entries": [
                "VCB",
                "FLsnow",
                "LoliHouse",
                "Lilith-Raws",
                "DD",
                "KTXP",
                "XKsub",
                "Sakurato",
                "Beelzebub",
                "Moozzi2",
                "Kamigami",
                "HYSUB",
                "POPGO",
                "DMG",
                "SFEO-Raws",
                "ANK-Raws",
                "NC-Raws",
                "Snow-Raws",
                "SumiSora",
                "TUcaptions",
                "YYDM-11FANS",
                "UHA-WINGS&LoliHouse",
                "Nekomoe kissaten[(&LoliHouse)]"
            ]
        },
        {
            "description": "Remove video source",
            "type": "remove",
            "file": "all",
            "regex": true,
            "prefix": "\\s*\\[.*?",
            "suffix": ".*?\\]\\s*",
            "entries": [
                "BiliBili",
                "Baha"
            ]
        },
        {
            "description": "Remove labels in brackets (exact)",
            "type": "remove",
            "file": "all",
            "regex": true,
            "prefix": "\\s*\\[",
            "suffix": "\\]\\s*",
            "entries": [
                "END"
            ]
        },
        {
            "description": "Remove labels in brackets",
            "type": "remove",
            "file": "all",
            "regex": true,
            "prefix": "\\s*\\[",
            "suffix": ".*?\\]\\s*",
            "entries": [
                "(1080)[pP]",
                "Ma10[pP]",
                "BDRip",
                "WebRip",
                "BIG5",
                "HEVC",
                "MKV",
                "MP4",
                "GB_MP4",
                "x26[54]",
                "H264",
                "WEB",
                "AVC",
                "CHT",
                "CHS",
                "JPSC",
                "JPTC",
                "SRT",
                "1280X720",
                "1080[pP]_Ma10P",
                "1080[pP]_Hi10P",
                "720[pP]",
                "1920[xX]1080",
                "BD[Rr][Ii][Pp][\\-\\s\\w\\d\\_]*",
                "[(Ma)(Hi)]*10p_[(2160)(1080)(720)]*p[\\_\\w]*",
                "x264_[2]*flac",
                "[xX]264_AAC",
                "x265_[2]*flac",
                "x265_ac3",
                "x265_flac_ac3",
                "x265_flac_[2]*aac",
                "AVC_AAC",
                "AVC_FLAC[xX2]*",
                "[0-9A-F]{8}",
                "WEBRIP",
                "Movie[\\w\\(\\)\\.\\s]*",
                "H264_FLAC",
                "HEVC[\\s\\w\\d]*FLAC",
                "HEVC_ALS",
                "BD"
            ]
        },
        {
            "description": "Remove labels in parentheses",
            "type": "remove",
            "file": "all",
            "regex": true,
            "prefix": "\\s*\\(.*?",
            "suffix": ".*?\\)\\s*",
            "entries": [
                "BD",
                "DVD",
                "[0-9A-F]{8}"
            ]
        },
        {
            "description": "Remove other labels",
            "type": "remove",
            "file": "all",
            "regex": true,
            "prefix": "\\s*",
            "suffix": "\\s*",
            "entries": [
                "\\.HKG\\&X2",
                "\\.EMD\\&HKG",
                "\\.HKG",
                "(\\s)*「.*」(\\s)*",
                "\\[資金募集中\\]",
                "\\[[简繁].*?\\]",
                "\\[招.*?\\]",
                "YY-",
                "\\.JYFanSub-",
                "\\ V2"
            ]
        },
        {
            "description": "Check renaming results",
            "type": "check",
            "file": "all",
            "regex": true,
            "entries": [
                "\\[.*?[^0-9Ov\\.VAD].*?\\]",
                "\\(.*?[^0-9Ov\\.VAD].*?\\)"
            ]
        },
        {
            "description": "Trans symbols to spaces",
            "type": "transform",
            "file": "all",
            "regex": false,
            "entries": [
                {
                    "source": "[",
                    "target": " "
                },
                {
                    "source": "]",
                    "target": " "
                },
                {
                    "source": "_",
                    "target": " "
                },
                {
                    "source": " - ",
                    "target": " "
                },
                {
                    "source": "-",
                    "target": " "
                },
                {
                    "source": "～",
                    "target": " "
                },
                {
                    "source": "~",
                    "target": " "
                },
                {
                    "source": ":",
                    "target": " "
                },
                {
                    "source": ";",
                    "target": " "
                },
                {
                    "source": "：",
                    "target": " "
                },
                {
                    "source": "!",
                    "target": " "
                },
                {
                    "source": "/",
                    "target": " "
                },
                {
                    "source": "／",
                    "target": " "
                },
                {
                    "source": "？",
                    "target": " "
                }
            ]
        },
        {
            "description": "Shrink spaces",
            "type": "transform",
            "file": "all",
            "regex": false,
            "entries": [
                {
                    "source": " .",
                    "target": "."
                },
                {
                    "source": "  ",
                    "target": " "
                }
            ]
        },
        {
            "description": "Remove spaces",
            "type": "remove",
            "file": "all",
            "regex": true,
            "entries": [
                "^\\s+",
                "\\s+$"
            ]
        }
    ]
}